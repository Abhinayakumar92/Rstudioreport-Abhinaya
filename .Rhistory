knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(tidyr)
library(dplyr)
library(here)
CHD_total <- read_csv("ScotPHO_CHD_total.csv")
glimpse(CHD_total)
CHD_total <- read_csv("ScotPHO_CHD_total.csv")
glimpse(CHD_total)
view(CHD_total)
CHD_tidy <- CHD_total %>% select (year, period, numerator, measure) %>%  filter( year >= 2017) %>% rename(Hosp_per_year = 'numerator', HospRate_100k = 'measure' )
head(CHD_tidy)
CHD_tidy <- CHD_total %>% select (year, period, numerator, measure) %>%  filter( year >= 2017) %>% rename(Hosp_per_year = 'numerator', HospRate_100k = 'measure' )
view(CHD_tidy)
summary(CHD_tidy)
CHD_table <- view(CHD_tidy)
CHD_tidy <- CHD_total %>% select (year, period, numerator, measure) %>%  filter( year >= 2017) %>% rename(Hosp_per_year = 'numerator', HospRate_100k = 'measure' )
CHD_table <- view(CHD_tidy)
CHD_tidy <- CHD_total %>% select (year, period, numerator, measure) %>%  filter( year >= 2017) %>% rename(Hosp_per_year = 'numerator', HospRate_100k = 'measure' )
CHD_table <- view(CHD_tidy)
CHD_table <- view(CHD_tidy)
ggplot( CHD_tidy,aes(x=year, y=HospRate_100k )) + labs(title = "CHD Hospitalisation Rate in Scotland (2017-2022)", x="Year ( 3 year rolling average)", y= "Rate per 100,000") + geom_line()
ggplot(CHD_tidy, aes(x= year, y= Hosp_per_year)) + geom_col(fill = "blue4") + labs( title="Rolling 3 year average Hospital Admissions", x="Year", y="Rolling average admissions") + theme_classic()
