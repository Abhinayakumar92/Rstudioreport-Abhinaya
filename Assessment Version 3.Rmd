---
title: "Assessment_Abhinaya"
author: "Abhinaya"
date: "2025-12-02"
output:
  pdf_document: default
  html_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Report Summary

Coronary artery disease occurs when the arteries that supply blood to the heart, are blocked, causing a reduction in blood flow to the heart. Also called Ischaemic heart disease (1), this happens when fatty substances obstruct the blood flow, thereby, reducing the oxygenation of the muscles.

The aim of this analysis is to examine the trend in age–sex standardised **Coronary Heart Disease hospitalisation rates** in Scotland between financial years **2016/17–2018/19** and **2021/22–2023/24** using the 3-year rolling averages.

The target audience will be primarily the public health boards,epidemiologists, hospital administration and research scientists. The insights obtained from this study will enable them to identify patterns,increase resource allocation and create awareness regarding this disease among the public.It will also contribute to research as trends form an important analysis in any study.

The dataset used for the study is the **coronary heart disease (CHD) patient hospitalisations**, in *Scotland*, for the years 2006-2022, from the (2) [Scottish Public Health Observatory Online profiles Tool](https://scotland.shinyapps.io/ScotPHO_profiles_tool/).

-   **Indicator definition**

    Patients discharged from hospital with coronary heart disease: 3-year rolling average number and directly age-sex standardised rate per 100,000 population.\
    -Numerator= Number of patients admitted due to coronary heart disease\
    -Denominator = Total population\
    -Measure = Rate of admissions per 100,000 persons in the population.

The data obtained has primarily the numbers of hospital admissions and hospitilisation rates for the given years. This data does not allow any causal inference, as no other factors or indicators are mentioned. Also, since it is secondary data, there is no control over the quality and the methodology of obtaining it.

The strengths of the summary statistics are that it is easy to interpret, and gives a clear snapshot of the mean hospitalisation cases in the period. The limitation is that there is no data on the variation during individual years. The strength of the bar chart is that it is easy to interpret visually and clearly shows the difference in the rates over the years. The limitation is that, while bar charts are less suited to plot trends, since we are considering 3-year rolling averages, it is difficult to track individual year rates and plot it on a trend line, due to the overlap of the years.

## Research Question

“How have age–sex standardised CHD hospitalisation rates in Scotland changed between 2016/17–2018/19 and 2021/22–2023/24 according to the 3-year rolling averages”

## Load Packages

```{r load-package}
# Loading packages needed for the analysis
library(tidyverse)
library(readr)
library(tidyr)
library(dplyr)
library(here)
```

## Read in data

```{r import-data}
# Importing the data and renaming it for ease
CHD_data <- read_csv("ScotPHO_datatab_extract_2025-11-29.csv")
glimpse (CHD_data)
```

## Data Cleaning

### Select main columns ( year, period, numerator, measure)

```{r select columns}
# Selecting only the relevant columns needed, after year 2016.
#Renaming the column headings for better understanding
CHD_main <- CHD_data %>% select(year, period, numerator, measure) %>% filter(year>= 2017) %>% rename(Hosp_per_year = 'numerator', HospRate_100k = 'measure' )  
```

### Renaming the variables to shorten the names in "Period" column

```{r rename_variables}
# Reducing the data in the period column due to repetition and ease of representation on the graph
CHD_main <- CHD_main %>% mutate(period = gsub(" financial years; 3-year aggregates","", period )) %>% mutate(period = gsub("to","-", period ))
View(CHD_main)
```

## Data Analysis

### Summary statistics of the data

```{r data_summary}
# To check the mean of the hospitalisation numbers and rates for the period
CHD_main %>% select(Hosp_per_year, HospRate_100k) %>% summary ()
```

## Data Visualisation

### Plot a bar chart of hospitalisation rate

Plotting a bar chart to show the change in hospitalisation rates over the years.

```{r bar-chart, fig_width=10}
# Plotting a bar chart to show the change, with the respective labels
ggplot(CHD_main, aes(x= str_wrap(period, 10), y= HospRate_100k)) + geom_col(fill = "blue4") + labs(title = "CHD Hospitalisation Rate in Scotland (2017-2022 3-year rolling average)", 
       x = "Year (3 year rolling average)", 
       y = "Rate per 100,000") + theme_classic() +
  coord_cartesian(ylim = c(310, 380))
```

## Interpretation

The bar chart shows a steady decline in the hospitalisation rates of coronary heart disease, from the years 2017-2022, depicted by the 3 year rolling averages seen in the bar graph.

### References

(1) <https://www.nhs.uk/conditions/coronary-heart-disease/>
(2) <https://scotland.shinyapps.io/ScotPHO_profiles_tool/>
